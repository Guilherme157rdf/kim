<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Princesa Kimberly | 15 Anos</title>
    
    <!-- Fontes: Great Vibes (Realeza) e Montserrat (Modernidade) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">

    <!-- Three.js & Confetti -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --color-bg: #050510;
            --color-accent-pink: #ff007f;
            --color-accent-purple: #7b2cbf;
            --color-gold: #ffd700;
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--color-bg);
            color: #ffffff;
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            overscroll-behavior: none;
        }

        /* --- Three.js Canvas --- */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            outline: none;
        }

        /* --- Scroll Layout --- */
        main {
            position: relative;
            width: 100%;
            z-index: 10;
        }

        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            text-align: center;
            perspective: 1000px;
        }

        /* --- Tipografia & Estilo --- */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2.5rem 1.5rem;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            max-width: 500px;
            width: 100%;
            transform: translateY(30px);
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .glass-card.visible {
            transform: translateY(0);
            opacity: 1;
        }

        h1, h2, h3 {
            line-height: 1.2;
        }

        .label {
            font-size: 0.8rem;
            letter-spacing: 4px;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 1rem;
        }

        .princesa-title {
            font-family: 'Great Vibes', cursive;
            font-size: 4.5rem;
            margin: 0.5rem 0;
            background: linear-gradient(45deg, var(--color-gold), #fff, var(--color-accent-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
            animation: shimmer 3s infinite linear;
        }

        .age {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(to right, var(--color-accent-pink), var(--color-accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            color: #e0e0e0;
        }

        /* --- Botão Interativo --- */
        .btn-love {
            position: relative;
            padding: 1rem 2.5rem;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            background: transparent;
            border: 2px solid var(--color-accent-pink);
            border-radius: 50px;
            cursor: pointer;
            overflow: hidden;
            transition: 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 0 15px var(--color-accent-pink);
            animation: pulse 2s infinite;
        }

        .btn-love::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, var(--color-accent-pink), var(--color-accent-purple));
            z-index: -1;
            transition: 0.3s;
        }

        .btn-love:active, .btn-love:hover {
            transform: scale(0.95);
        }
        
        .btn-love:active::before, .btn-love:hover::before {
            width: 100%;
        }

        /* --- Animações CSS --- */
        @keyframes shimmer {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 0, 127, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 0, 127, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 0, 127, 0); }
        }

        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 50px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 20px;
            display: flex;
            justify-content: center;
        }

        .scroll-indicator::before {
            content: '';
            width: 4px;
            height: 8px;
            background: #fff;
            margin-top: 10px;
            border-radius: 2px;
            animation: scrollDown 1.5s infinite;
        }

        @keyframes scrollDown {
            0% { opacity: 0; transform: translateY(0); }
            50% { opacity: 1; }
            100% { opacity: 0; transform: translateY(20px); }
        }

    </style>
</head>
<body>

    <!-- Three.js Background -->
    <div id="canvas-container"></div>

    <main>
        <!-- Section 1: Hero -->
        <section class="hero">
            <div class="glass-card fade-target">
                <div class="label">Comemorando os</div>
                <div class="age">15 ANOS</div>
                <div class="label">da minha</div>
                <h1 class="princesa-title">Princesa<br>Kimberly</h1>
            </div>
            <div class="scroll-indicator"></div>
        </section>

        <!-- Section 2: Narrative (Distance & Galaxy) -->
        <section class="narrative">
            <div class="glass-card fade-target">
                <h2>No Universo do Amor</h2>
                <br>
                <p>
                    Dizem que a distância separa corpos, mas nunca almas conectadas. 
                    Assim como os anéis orbitam o planeta, meu pensamento orbita você.
                </p>
                <p>
                    Entre duas cidades, criamos nossa própria galáxia.
                    Cada quilômetro é apenas poeira estelar perto do brilho que você tem.
                </p>
                <p>
                    ♡  ♡  ♡
                </p>
                <p>
                     (◕‿◕) 
                </p>
                <p>
                   ⊃  ❤  ⊂ 
                </p>
                <p>
                 Eu te amo princesa
                 </p>
                 <p>
                   ♡  ♡  ♡
                </p>
            </div>
        </section>

        <!-- Section 3: Grand Finale -->
        <section class="grand-finale">
            <div class="glass-card fade-target">
                <h2 style="color: var(--color-gold); margin-bottom: 1rem;">Seu Reinado Começa</h2>
                <p>Que seus 15 anos sejam tão mágicos quanto o universo que construímos juntos.</p>
                <p style="font-style: italic; opacity: 0.8;">"Você é a joia mais rara da minha galáxia."</p>
                <br>
                <button class="btn-love" id="btnConfetti">Enviar Amor Galáctico</button>
            </div>
        </section>
    </main>

    <script>
        // --- 1. CONFIGURAÇÃO THREE.JS ---
        const container = document.getElementById('canvas-container');
        
        // Scene Setup
        const scene = new THREE.Scene();
        // Fog para profundidade (cor escura para simular espaço profundo)
        scene.fog = new THREE.FogExp2(0x050510, 0.002);

        // Camera
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;

        // Renderer
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Otimização Mobile
        container.appendChild(renderer.domElement);

        // --- 2. ELEMENTOS 3D (METÁFORAS) ---

        // Grupo Principal (para rodar tudo junto)
        const jewelGroup = new THREE.Group();
        scene.add(jewelGroup);

        // A Jóia Central (Icosaedro Low Poly - Coração Abstrato)
        const geometryJewel = new THREE.IcosahedronGeometry(1.2, 0); // Detail 0 = Low Poly
        const materialJewel = new THREE.MeshPhysicalMaterial({
            color: 0xff007f,      // Rosa Neon
            emissive: 0x220011,
            metalness: 0.2,
            roughness: 0.1,
            transmission: 0.2,    // Levemente translúcido
            flatShading: true,    // Facetas visíveis
            reflectivity: 1
        });
        const jewel = new THREE.Mesh(geometryJewel, materialJewel);
        jewelGroup.add(jewel);

        // Wireframe externo (para dar um toque "Tech/Moderno")
        const wireGeo = new THREE.IcosahedronGeometry(1.22, 0);
        const wireMat = new THREE.MeshBasicMaterial({ 
            color: 0xffd700, // Dourado
            wireframe: true,
            transparent: true,
            opacity: 0.3
        });
        const wireframe = new THREE.Mesh(wireGeo, wireMat);
        jewelGroup.add(wireframe);

        // Anéis Orbitais (Conexão à distância)
        const ringMat = new THREE.MeshBasicMaterial({ color: 0x7b2cbf, transparent: true, opacity: 0.6, side: THREE.DoubleSide });
        
        const ring1 = new THREE.Mesh(new THREE.TorusGeometry(2.2, 0.02, 16, 100), ringMat);
        ring1.rotation.x = Math.PI / 2;
        jewelGroup.add(ring1);

        const ring2 = new THREE.Mesh(new THREE.TorusGeometry(2.8, 0.03, 16, 100), ringMat);
        ring2.rotation.x = Math.PI / 3;
        ring2.rotation.y = Math.PI / 6;
        jewelGroup.add(ring2);

        // Partículas (Estrelas/Galáxia)
        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 1500; // Quantidade segura para mobile
        const posArray = new Float32Array(particlesCount * 3);

        for(let i = 0; i < particlesCount * 3; i++) {
            // Espalhar estrelas em uma área grande
            posArray[i] = (Math.random() - 0.5) * 40; 
        }

        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particlesMaterial = new THREE.PointsMaterial({
            size: 0.03,
            color: 0xffffff,
            transparent: true,
            opacity: 0.8,
        });
        const starMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(starMesh);

        // Iluminação
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);

        const pointLight = new THREE.PointLight(0xff007f, 2, 20);
        pointLight.position.set(2, 3, 4);
        scene.add(pointLight);

        const goldLight = new THREE.PointLight(0xffd700, 2, 20);
        goldLight.position.set(-2, -3, 2);
        scene.add(goldLight);

        // --- 3. ANIMAÇÃO E INTERATIVIDADE ---

        let mouseX = 0;
        let mouseY = 0;
        let targetX = 0;
        let targetY = 0;

        // Listener para Mouse e Touch
        const windowHalfX = window.innerWidth / 2;
        const windowHalfY = window.innerHeight / 2;

        document.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX - windowHalfX) * 0.001;
            mouseY = (event.clientY - windowHalfY) * 0.001;
        });
        
        // Simples suporte para giroscópio (orientação do dispositivo)
        window.addEventListener('deviceorientation', (event) => {
            if (event.beta && event.gamma) {
                // Beta: inclinação frente/trás (-180 a 180)
                // Gamma: inclinação esq/dir (-90 a 90)
                mouseY = (event.beta / 180) * 0.5;
                mouseX = (event.gamma / 90) * 0.5;
            }
        });

        // Loop de Renderização
        const clock = new THREE.Clock();

        const animate = () => {
            targetX = mouseX * 2;
            targetY = mouseY * 2;

            const elapsedTime = clock.getElapsedTime();

            // Rotação suave da jóia
            jewelGroup.rotation.y += 0.005;
            jewelGroup.rotation.x += 0.002;

            // Rotação orbital dos anéis (independente)
            ring1.rotation.x += 0.005;
            ring1.rotation.y = Math.sin(elapsedTime * 0.5) * 0.2;
            ring2.rotation.y -= 0.008;

            // Pulso da Jóia (batida de coração)
            const scale = 1 + Math.sin(elapsedTime * 2) * 0.03;
            jewel.scale.set(scale, scale, scale);
            wireframe.scale.set(scale, scale, scale);

            // Reação ao mouse/toque (efeito parallax suave)
            jewelGroup.rotation.y += 0.05 * (targetX - jewelGroup.rotation.y);
            jewelGroup.rotation.x += 0.05 * (targetY - jewelGroup.rotation.x);
            
            // Movimento das estrelas
            starMesh.rotation.y = elapsedTime * 0.05;

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        };

        animate();

        // --- 4. SCROLLTELLING (INTERAÇÃO COM O SCROLL) ---
        
        const main = document.querySelector('main');
        
        window.addEventListener('scroll', () => {
            const scrollPercent = window.scrollY / (document.body.scrollHeight - window.innerHeight);
            
            // Transformações baseadas no scroll
            // 1. Zoom in/out da câmera ou objeto
            camera.position.z = 5 - (scrollPercent * 2); // Aproxima a câmera (zoom in)
            
            // 2. Mudança de cor das luzes
            pointLight.intensity = 2 + (scrollPercent * 3);
            
            // 3. Rotação mais rápida ao descer
            jewelGroup.rotation.z = scrollPercent * Math.PI;
            
            // 4. Mover a jóia para cima/baixo para não brigar com o texto
            // Seção 1: Centro. Seção 2: Cima. Seção 3: Centro.
            if(scrollPercent < 0.5) {
                jewelGroup.position.y = scrollPercent * 2; 
            } else {
                jewelGroup.position.y = (1 - scrollPercent) * 2;
            }
        });

        // --- 5. OBSERVERS (FADE IN DOS TEXTOS) ---
        const observerOptions = {
            threshold: 0.3
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-target').forEach(el => observer.observe(el));

        // --- 6. INTERAÇÃO 2D (CONFETES) ---
        document.getElementById('btnConfetti').addEventListener('click', (e) => {
            // Efeito vibratório no botão
            const btn = e.target;
            btn.innerHTML = "Enviado princesa! ❤️";
            btn.style.borderColor = "#fff";
            
            // Disparar confetes
            const duration = 3000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 100 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);
                
                // Cores da realeza: Dourado, Pink, Roxo
                confetti(Object.assign({}, defaults, { 
                    particleCount, 
                    origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },
                    colors: ['#ffd700', '#ff007f', '#7b2cbf', '#ffffff']
                }));
                confetti(Object.assign({}, defaults, { 
                    particleCount, 
                    origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },
                    colors: ['#ffd700', '#ff007f', '#7b2cbf', '#ffffff']
                }));
            }, 250);
        });

        // Ajuste de redimensionamento
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

    </script>
</body>
</html>